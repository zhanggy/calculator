/*Obfuscated by JShaman.com*/let politics_obj={};var _input_list=[{'name':'装机功率','input':{'id':'A','value':0x9c4},'unit':'kWh'},{'name':'装机容量','input':{'id':'B','value':0x1388},'unit':'kWh'},{'name':'单位装机成本','input':{'id':'C','value':1.75},'unit':'元/Wh'},{'name':'峰时电价','input':{'id':'D','value':0x0},'unit':'元/kWh'},{'name':'平时电价','input':{'id':'E','value':0x0},'unit':'元/kWh'},{'name':'谷时电价','input':{'id':'F','value':0x0},'unit':'元/kWh'},{'name':'电池循环寿命','input':{'id':'G','value':0x1388},'unit':'次','remark':'到额定容量80%'},{'name':'放电深度','input':{'id':'H','value':0x5f,'min':0x0,'max':0x64},'unit':'%'},{'name':'系统效率','input':{'id':'I','value':0x5a,'min':0x1,'max':0x64},'unit':'%'},{'name':'每天充放电循环次数','input':{'id':'J','value':0x2,'min':0x1,'max':0x2},'unit':'次'},{'name':'每年运行天数','input':{'id':'K','value':0x15e,'min':0x1,'max':0x16e},'unit':'天'},{'name':'系统寿命','input':{'id':'L','value':0xf,'min':0x5,'max':0x19},'unit':'年'},{'name':'每年运维成本','input':{'id':'M','value':0.005,'min':0x0,'max':0x64,'step':0.001},'unit':'元/Wh'},{'name':'贷款比例','input':{'id':'N','value':0x0,'min':0x0,'max':0x64},'unit':'%'},{'name':'贷款利率','input':{'id':'O','value':5.4,'min':0x0,'max':0x19},'unit':'%'},{'name':'贷款年限','input':{'id':'P','value':0x5,'min':0x0},'unit':'年'},{'name':'度电补贴','input':{'id':'Q','value':0x0,'step':0.1},'unit':'元/kWh'},{'name':'补贴年限','input':{'id':'R','value':0x0,'min':0x0},'unit':'年'},{'name':'保险费用','input':{'id':'S','value':0x0,'min':0x0},'unit':'万元'},{'name':'残值','input':{'id':'T','value':0x5,'min':0x0,'max':0x64},'unit':'%'}];var _result_list=[{'name':'初始投资成本','id':'Z11','unit':'万元'},{'name':'首年电量收益','id':'Z12','unit':'万元'},{'name':'生命周期电量总收益','id':'Z13','unit':'万元'},{'name':'补贴总收益','id':'Z14','unit':'万元'},{'name':'生命周期总净收益','id':'Z15','unit':'万元'},{'name':'静态投资回收期','id':'Z16','unit':'年'},{'name':'静态收益率IRR','id':'Z17','unit':'%'},{'name':'资本金收益率','id':'Z18','unit':'%'},{'name':'度电成本','id':'Z19','unit':'元/KWh'}];function loan_interest_benjin(_0x483d2b,_0x4b3a53,_0x4f9688){let _0x88ba3c=_0x4b3a53*0xc;let _0x21b031=_0x4f9688/0x64/0xc;let _0x4857c8=_0x483d2b/_0x88ba3c;let _0x37fe8e=new Array(_0x88ba3c)['fill'](0x0);let _0x23efa8=new Array(_0x4b3a53)['fill'](0x0);for(let _0x1bde89=0x0;_0x1bde89<_0x88ba3c;++_0x1bde89){_0x37fe8e[_0x1bde89]=(_0x483d2b-_0x4857c8*_0x1bde89)*_0x21b031;_0x23efa8[parseInt(_0x1bde89/0xc)]+=_0x37fe8e[_0x1bde89];}return _0x23efa8;}function loan_interest_benxi(_0x4b711a,_0x43b60e,_0x2dbbe2){let _0x5166a3=_0x43b60e*0xc;let _0x2962cf=_0x2dbbe2/0x64/0xc;let _0x126c39=new Array(_0x5166a3)['fill'](0x0);let _0x3b176c=new Array(_0x43b60e)['fill'](0x0);for(let _0x526c35=0x0;_0x526c35<_0x5166a3;++_0x526c35){let _0x247e2c=_0x4b711a*_0x2962cf*(Math['pow'](0x1+_0x2962cf,_0x5166a3)-Math['pow'](0x1+_0x2962cf,_0x526c35))/(Math['pow'](0x1+_0x2962cf,_0x5166a3)-0x1);_0x126c39[_0x526c35]=_0x247e2c;_0x3b176c[parseInt(_0x526c35/0xc)]+=_0x247e2c;}return _0x3b176c;}function get_politics(_0x4f584e){let _0x612e05=new Date();let _0x97623=_0x612e05['getFullYear']()['toString']()+'-'+(_0x612e05['getMonth']()+0x1)['toString']();data_url=document['location']['pathname']+'data/politics-'+_0x97623+'.json';$['ajax']({'url':data_url,'type':'GET','dataType':'json','headers':{'Content-Type':'application/json;charset=utf-8'},'contentType':'application/json;\x20charset=utf-8','success':function(_0x33202e){politics_obj=_0x33202e[_0x4f584e]||_0x33202e['default'];$('input#input_D')['val'](politics_obj['power-price']['peak']);$('input#input_E')['val'](politics_obj['power-price']['usual']);$('input#input_F')['val'](politics_obj['power-price']['vally']);},'error':function(_0x7d03c2){console['error']('Error');}});}function CalcROI(_0x49652a){for(let _0x567ab4=0x1;_0x567ab4<_0x49652a['length'];++_0x567ab4){let _0x118a66=_0x49652a[_0x567ab4-0x1];let _0x2355b7=_0x49652a[_0x567ab4];if(_0x118a66<0x0&&_0x2355b7>=0x0){return _0x567ab4+_0x118a66/(_0x118a66-_0x2355b7);}}return _0x49652a['length'];}function buildModule(){let _0x5a7fed={};for(let _0x37c69f='A'['charCodeAt']();_0x37c69f<'T'['charCodeAt']();++_0x37c69f){let _0x2beff4=String['fromCharCode'](_0x37c69f);_0x5a7fed[_0x2beff4]=Number($('input#input_'+_0x2beff4)['val']());}if(!_0x5a7fed['A']||!_0x5a7fed['B']||!_0x5a7fed['C']){console['log']('no\x20value');return-0x1;}_0x5a7fed['Z11']=_0x5a7fed['B']*_0x5a7fed['C']/0xa;_0x5a7fed['Z21']=_0x5a7fed['J']*_0x5a7fed['K']/_0x5a7fed['G']*0.2;if(_0x5a7fed['J']==0x2){_0x5a7fed['Z22']=_0x5a7fed['D']-(_0x5a7fed['E']+_0x5a7fed['F'])/0x2;}else{_0x5a7fed['Z22']=_0x5a7fed['D']-_0x5a7fed['F'];}let _0xf3dce7=_0x5a7fed['L'];if(_0x5a7fed['R']>_0xf3dce7){_0x5a7fed['R']=_0xf3dce7;}_0x5a7fed['LIXI_YEAR']=new Array(_0xf3dce7)['fill'](0x0);if(_0x5a7fed['N']>0x0&&_0x5a7fed['O']>0x0&&_0x5a7fed['P']>0x0){let _0xbb67e8=_0x5a7fed['Z11']*_0x5a7fed['N']/0x64;let _0x23e0ef=loan_interest_benjin(_0xbb67e8,_0x5a7fed['P'],_0x5a7fed['O']);for(let _0x47a271=0x0;_0x47a271<_0xf3dce7&&_0x47a271<_0x5a7fed['P'];++_0x47a271){_0x5a7fed['LIXI_YEAR'][_0x47a271]=_0x23e0ef[_0x47a271];}}_0x5a7fed['Z13']=0x0;_0x5a7fed['Z14']=0x0;_0x5a7fed['Z24']=0x0;_0x5a7fed['Z25']=0x0;_0x5a7fed['Z26']=0x0;_0x5a7fed['Z27']=0x0;_0x5a7fed['CAP_YEAR']=new Array(_0xf3dce7)['fill'](0x0);_0x5a7fed['DISCHARGE_YEAR']=new Array(_0xf3dce7)['fill'](0x0);_0x5a7fed['SUBSIDY_YEAR']=new Array(_0xf3dce7)['fill'](0x0);_0x5a7fed['BAT_INCOME_YEAR']=new Array(_0xf3dce7)['fill'](0x0);_0x5a7fed['DEVOPS_YEAR']=new Array(_0xf3dce7)['fill'](0x0);_0x5a7fed['PROFIT_YEAR']=new Array(_0xf3dce7)['fill'](0x0);_0x5a7fed['CASH_YEAR']=new Array(_0xf3dce7)['fill'](0x0);let _0xc56094=-_0x5a7fed['Z11'];for(let _0x379e96=0x0;_0x379e96<_0xf3dce7;++_0x379e96){_0x5a7fed['CAP_YEAR'][_0x379e96]=_0x5a7fed['B']*(0x1-_0x379e96*_0x5a7fed['Z21']);let _0x2c8e05=_0x5a7fed['H']/0x64;let _0x239dfe=_0x5a7fed['I']/0x64;_0x5a7fed['DISCHARGE_YEAR'][_0x379e96]=_0x5a7fed['J']*_0x5a7fed['K']*_0x2c8e05*_0x239dfe*_0x5a7fed['CAP_YEAR'][_0x379e96]/0x2710;_0x5a7fed['Z24']+=_0x5a7fed['DISCHARGE_YEAR'][_0x379e96];_0x5a7fed['BAT_INCOME_YEAR'][_0x379e96]=_0x5a7fed['Z22']*_0x5a7fed['DISCHARGE_YEAR'][_0x379e96];if(_0x379e96<_0x5a7fed['R']){_0x5a7fed['SUBSIDY_YEAR'][_0x379e96]=_0x5a7fed['Q']*_0x5a7fed['DISCHARGE_YEAR'][_0x379e96];}else{_0x5a7fed['SUBSIDY_YEAR'][_0x379e96]=0x0;}_0x5a7fed['DEVOPS_YEAR'][_0x379e96]=_0x5a7fed['B']*_0x5a7fed['M']/0xa;_0x5a7fed['Z25']+=_0x5a7fed['DEVOPS_YEAR'][_0x379e96];_0x5a7fed['Z26']+=_0x5a7fed['LIXI_YEAR'][_0x379e96];_0x5a7fed['Z27']+=_0x5a7fed['S'];_0x5a7fed['Z13']+=_0x5a7fed['BAT_INCOME_YEAR'][_0x379e96];_0x5a7fed['Z14']+=_0x5a7fed['SUBSIDY_YEAR'][_0x379e96];_0x5a7fed['PROFIT_YEAR'][_0x379e96]=_0x5a7fed['BAT_INCOME_YEAR'][_0x379e96]+_0x5a7fed['SUBSIDY_YEAR'][_0x379e96];_0x5a7fed['PROFIT_YEAR'][_0x379e96]=_0x5a7fed['PROFIT_YEAR'][_0x379e96]-_0x5a7fed['LIXI_YEAR'][_0x379e96]-_0x5a7fed['DEVOPS_YEAR'][_0x379e96];_0xc56094=_0xc56094+_0x5a7fed['PROFIT_YEAR'][_0x379e96];_0x5a7fed['CASH_YEAR'][_0x379e96]=_0xc56094;}_0x5a7fed['Z12']=_0x5a7fed['BAT_INCOME_YEAR'][0x0];_0x5a7fed['Z15']=_0x5a7fed['Z13']+_0x5a7fed['Z14']-_0x5a7fed['Z25']-_0x5a7fed['Z26']-_0x5a7fed['Z27'];_0x5a7fed['Z16']=CalcROI(_0x5a7fed['CASH_YEAR']);_0x5a7fed['Z17']=_0x5a7fed['Z15']/_0x5a7fed['L']/_0x5a7fed['Z11']*0x64;_0x5a7fed['Z18']=_0x5a7fed['Z15']/_0x5a7fed['L']/(0x64-_0x5a7fed['N'])/_0x5a7fed['Z11']*0x2710;_0x5a7fed['Z19']=_0x5a7fed['Z15']/_0x5a7fed['Z24'];console['log'](_0x5a7fed);$('span#output_Z11')['text'](_0x5a7fed['Z11']['toFixed'](0x2));$('span#output_Z12')['text'](_0x5a7fed['Z12']['toFixed'](0x2));$('span#output_Z13')['text'](_0x5a7fed['Z13']['toFixed'](0x2));$('span#output_Z14')['text'](_0x5a7fed['Z14']['toFixed'](0x2));$('span#output_Z15')['text'](_0x5a7fed['Z15']['toFixed'](0x2));$('span#output_Z16')['text'](_0x5a7fed['Z16']['toFixed'](0x2));$('span#output_Z17')['text'](_0x5a7fed['Z17']['toFixed'](0x2));$('span#output_Z18')['text'](_0x5a7fed['Z18']['toFixed'](0x2));$('span#output_Z19')['text'](_0x5a7fed['Z19']['toFixed'](0x2));}function onClickCalculate(){if(buildModule()==-0x1){return;}$('div#layer-input')['css']('display','none');$('div#layer-output')['css']('display','block');}function onClickReturn(){$('div#layer-input')['css']('display','block');$('div#layer-output')['css']('display','none');}function init_input_table(_0x166011,_0x364a2c){let _0x33d641=0x1;_0x364a2c['forEach'](_0x50bb5f=>{let _0x558709=$('<tr></tr>');let _0x1a518e=$('<td>'+_0x33d641++ +'</td>');_0x558709['append'](_0x1a518e);let _0x16a6e3=$('<td>'+_0x50bb5f['name']+'</td>');_0x558709['append'](_0x16a6e3);let _0x41172f='<td><input\x20type=\x27number\x27\x20';for(let _0x86c6ca in _0x50bb5f['input']){if(_0x86c6ca==='id'){_0x41172f=_0x41172f+'id=\x27input_'+_0x50bb5f['input'][_0x86c6ca]+'\x27\x20';}else if(_0x86c6ca==='value'){_0x41172f=_0x41172f+'value=\x27'+(_0x50bb5f['input'][_0x86c6ca]||0x0)+'\x27\x20';}else{_0x41172f=_0x41172f+_0x86c6ca+'=\x27'+_0x50bb5f['input'][_0x86c6ca]+'\x27\x20';}}_0x41172f=_0x41172f+'/></td>';_0x558709['append']($(_0x41172f));let _0x3f409f=$('<td>'+_0x50bb5f['unit']+'</td>');_0x558709['append'](_0x3f409f);let _0x3a05a2=$('<td>'+(_0x50bb5f['range']||'&nbsp;')+'</td>');_0x558709['append'](_0x3a05a2);let _0x4e9472=$('<td>'+(_0x50bb5f['remark']||'&nbsp;')+'</td>');_0x558709['append'](_0x4e9472);$('#'+_0x166011)['append'](_0x558709);});}function init_result_table(_0x11de08,_0x261cfc){let _0x5903cc=0x1;_0x261cfc['forEach'](_0xdd04a2=>{let _0x114985=$('<tr></tr>');let _0x304ad2=$('<td>'+_0x5903cc++ +'</td>');_0x114985['append'](_0x304ad2);let _0x127b65=$('<td>'+_0xdd04a2['name']+'</td>');_0x114985['append'](_0x127b65);let _0x4e28bc=$('<td><span\x20id=\x27output_'+_0xdd04a2['id']+'\x27></span></td>');_0x114985['append'](_0x4e28bc);let _0x40f7f5=$('<td>'+_0xdd04a2['unit']+'</td>');_0x114985['append'](_0x40f7f5);let _0x5b6024=$('<td>'+(_0xdd04a2['remark']||'&nbsp;')+'</td>');_0x114985['append'](_0x5b6024);$('#'+_0x11de08)['append'](_0x114985);});}$(document)['ready'](function(){init_input_table('tb_body_input',_input_list);init_result_table('tb_body_result',_result_list);get_politics('jiangsu');$('button#btn-calc')['click'](onClickCalculate);$('button#btn-rtn')['click'](onClickReturn);});